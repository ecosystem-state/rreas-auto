---
output:
  md_document:
    variant: gfm
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
library(knitr)
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-figs/",
  cache.path = "README-cache/"
)
```

  <!-- badges: start -->
  
  [![Make grid](https://github.com/ecosystem-state/rreas-auto/workflows/R-make-grid/badge.svg)](https://github.com/ecosystem-state/rreas-auto/actions)  
  
  [![Species list](https://github.com/ecosystem-state/rreas-auto/workflows/R-pull-data/badge.svg)](https://github.com/ecosystem-state/rreas-auto/actions)
  
  [![Estimate densities](https://github.com/ecosystem-state/rreas-auto/workflows/R-make-indices/badge.svg)](https://github.com/ecosystem-state/rreas-auto/actions)  
  [![Run DFA models](https://github.com/ecosystem-state/rreas-auto/workflows/R-run-dfa/badge.svg)](https://github.com/ecosystem-state/rreas-auto/actions)
  <!-- badges: end -->
  
## Overview 
This repository is a demonstration of automatic index generation using data from RREAS and ERDDAP. The index is generated by applying Dynamic Factor Analysis (DFA) to the top ~ 20+ species, using samples collected 1990 - present.

## Results

For illustrative purposes we're only showing the model with 1-trend. 

```{r echo=FALSE, fig.cap="Estimated trends for the RREAS community"}
# All defaults
include_graphics("figures/trends.jpeg")
```

```{r echo=FALSE, fig.cap="Estimated loadings for the RREAS community"}
# All defaults
include_graphics("figures/loadings.jpeg")
```

```{r echo=FALSE, width = 8, fig.cap="Predicted and observed fits to the RREAS data"}
# All defaults
include_graphics("figures/fitted.jpeg")
```

## bayesdfa

For more on the approach used, check out the [bayesdfa R package](https://fate-ewi.github.io/bayesdfa/)
